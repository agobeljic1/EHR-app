<form [formGroup]="form">
  <button class="close-icon button-img" (click)="close()">
    <img src="assets/close-icon.svg" alt="close" />
  </button>
  <label *ngIf="data.patient" class="modal-title">Update patient</label>
  <label *ngIf="!data.patient" class="modal-title">Create patient</label>
  <div class="d-flex justify-content-between w-full name-fields">
    <app-form-field
      name="given"
      label="First name"
      type="text"
      class="given-field"
      [formGroup]="form"
      [errorConfig]="formConfig['given'].errorConfig"
    ></app-form-field>
    <app-form-field
      name="family"
      label="Last Name"
      type="text"
      class="family-field"
      [formGroup]="form"
      [errorConfig]="formConfig['family'].errorConfig"
    ></app-form-field>
  </div>
  <app-form-field
    name="birthDate"
    label="Date of Birth"
    type="date"
    class="date-field"
    [formGroup]="form"
    [errorConfig]="formConfig['birthDate'].errorConfig"
  ></app-form-field>
  <app-form-field
    name="gender"
    label="Gender"
    type="select"
    class="gender-field"
    [formGroup]="form"
    [options]="formConfig['gender'].options"
    [errorConfig]="formConfig['gender'].errorConfig"
  ></app-form-field>
  <app-form-field
    name="line"
    label="Street"
    type="text"
    class="line-field"
    [formGroup]="form"
    [errorConfig]="formConfig['line'].errorConfig"
  ></app-form-field>
  <app-form-field
    name="country"
    label="Country"
    type="select-autocomplete"
    class="country-field"
    [formGroup]="form"
    [options]="formConfig['country'].options"
    [errorConfig]="formConfig['country'].errorConfig"
  ></app-form-field>
  <app-form-field
    name="city"
    label="City"
    type="text"
    class="city-field"
    [formGroup]="form"
    [errorConfig]="formConfig['city'].errorConfig"
  ></app-form-field>
  <button (click)="submitUpsertPatient()" mat-raised-button color="primary">
    <label *ngIf="!data.patient">Create patient</label>
    <label *ngIf="data.patient">Update patient</label>
    <app-spinner *ngIf="loading$ | async"></app-spinner>
  </button>
</form>
